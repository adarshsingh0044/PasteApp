<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Page Flip Carousel</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f0f0f0;
    }

    .carousel-container {
      width: 300px;
      height: 300px;
      perspective: 1500px; /* Perspective to give the 3D flip effect */
      position: relative;
    }

    .carousel {
      width: 100%;
      height: 100%;
      position: relative;
    }

    .half {
      width: 50%;
      height: 100%;
      position: absolute;
      top: 0;
      transform-origin: center right;
      transform-style: preserve-3d;
      transition: transform 1s ease-in-out;
      backface-visibility: hidden;
      object-fit: cover;
    }

    .half.right {
      left: 50%;
      transform-origin: center left;
    }

    .arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      padding: 10px;
      cursor: pointer;
      font-size: 24px;
      z-index: 10;
    }

    .arrow-left {
      left: -40px;
    }

    .arrow-right {
      right: -40px;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="carousel-container">
    <div class="carousel" id="carousel">
      <img src="https://via.placeholder.com/300x300/FF5733" alt="Album 1" class="half left" id="left1">
      <img src="https://via.placeholder.com/300x300/FF5733" alt="Album 1" class="half right" id="right1">
      <img src="https://via.placeholder.com/300x300/33C1FF" alt="Album 2" class="half left hidden" id="left2">
      <img src="https://via.placeholder.com/300x300/33C1FF" alt="Album 2" class="half right hidden" id="right2">
      <img src="https://via.placeholder.com/300x300/85FF33" alt="Album 3" class="half left hidden" id="left3">
      <img src="https://via.placeholder.com/300x300/85FF33" alt="Album 3" class="half right hidden" id="right3">
      <img src="https://via.placeholder.com/300x300/FF33A1" alt="Album 4" class="half left hidden" id="left4">
      <img src="https://via.placeholder.com/300x300/FF33A1" alt="Album 4" class="half right hidden" id="right4">
    </div>
    <div class="arrow arrow-left" id="prev">&lt;</div>
    <div class="arrow arrow-right" id="next">&gt;</div>
  </div>

  <script>
    const leftHalves = document.querySelectorAll('.half.left');
    const rightHalves = document.querySelectorAll('.half.right');
    let currentIndex = 0;
    let isFlipping = false;

    document.getElementById('next').addEventListener('click', function() {
      if (!isFlipping) flipToNextImage();
    });

    document.getElementById('prev').addEventListener('click', function() {
      if (!isFlipping) flipToPrevImage();
    });

    function flipToNextImage() {
      isFlipping = true;

      // Start flipping like turning a book page
      leftHalves[currentIndex].style.transform = 'rotateY(-180deg)';
      rightHalves[currentIndex].style.transform = 'rotateY(180deg)';

      setTimeout(() => {
        // Hide the current image after the flip is complete
        leftHalves[currentIndex].classList.add('hidden');
        rightHalves[currentIndex].classList.add('hidden');

        // Move to the next image
        currentIndex = (currentIndex + 1) % leftHalves.length;

        // Reset the flip state and show the next image
        leftHalves[currentIndex].style.transform = 'rotateY(0deg)';
        rightHalves[currentIndex].style.transform = 'rotateY(0deg)';
        leftHalves[currentIndex].classList.remove('hidden');
        rightHalves[currentIndex].classList.remove('hidden');

        isFlipping = false;
      }, 1000); // Wait for the flip animation to finish
    }

    function flipToPrevImage() {
      isFlipping = true;

      // Start flipping like turning a book page
      leftHalves[currentIndex].style.transform = 'rotateY(-180deg)';
      rightHalves[currentIndex].style.transform = 'rotateY(180deg)';

      setTimeout(() => {
        // Hide the current image after the flip is complete
        leftHalves[currentIndex].classList.add('hidden');
        rightHalves[currentIndex].classList.add('hidden');

        // Move to the previous image
        currentIndex = (currentIndex - 1 + leftHalves.length) % leftHalves.length;

        // Reset the flip state and show the previous image
        leftHalves[currentIndex].style.transform = 'rotateY(0deg)';
        rightHalves[currentIndex].style.transform = 'rotateY(0deg)';
        leftHalves[currentIndex].classList.remove('hidden');
        rightHalves[currentIndex].classList.remove('hidden');

        isFlipping = false;
      }, 1000); // Wait for the flip animation to finish
    }
  </script>
</body>
</html>
